:root{
  --bg:#ffffff;
  --text:#111111;
  --muted:#667085;
  --border:#e5e5e5;
  --ok:#16a34a;
  --warn:#f59e0b;
  --bad:#dc2626;
  --kiwi:#22c55e;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--text);background:var(--bg);line-height:1.35}
#splash{position:fixed;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#fff;color:#15803d;z-index:9999;transition:opacity 1s ease}
#splash.fade-out{opacity:0;pointer-events:none}
.logo-big{width:100px;height:100px;animation:spin 2s linear infinite}
@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
#splash h1{margin-top:14px;font-size:1.8rem;font-weight:600}
#splash p{margin:0;color:#22c55e}
.app-header{border-bottom:1px solid var(--border);padding:12px 16px;position:sticky;top:0;background:#fff;z-index:10;box-shadow:0 2px 16px rgba(34,197,94,0.08)}
.brand{display:flex;align-items:center;gap:12px}
.logo{width:48px;height:48px;border-radius:10px;box-shadow:0 4px 12px rgba(34,197,94,0.25)}
.brand-text h1{font-size:20px;margin:0}
.brand-text span{font-size:12px;color:var(--muted)}
.tabs{margin-top:10px;display:flex;gap:8px;flex-wrap:wrap}
.tab{border:1px solid var(--border);background:#fff;padding:8px 12px;border-radius:10px;cursor:pointer;transition:all .2s ease;box-shadow:0 2px 8px rgba(34,197,94,0.08)}
.tab:hover{transform:translateY(-1px)}
.tab.active{border-color:#111;background:#f7f7f7}
.container{max-width:1200px;margin:0 auto;padding:16px}
.grid.two{display:grid;grid-template-columns:1fr 1fr;gap:16px}
@media (max-width:980px){.grid.two{grid-template-columns:1fr}}
.panel{display:none;animation:fade .18s ease}
.panel.active{display:block}
@keyframes fade{from{opacity:.6; transform:translateY(3px)} to{opacity:1; transform:none}}
.card{border:1px solid var(--border);border-radius:14px;padding:16px;background:#fff;box-shadow:0 4px 18px rgba(34,197,94,0.06)}
.header-row{display:flex;justify-content:space-between;align-items:center;gap:8px}
.rows{display:flex;flex-direction:column;gap:10px}
.rows.compact .kv{display:flex;justify-content:space-between;gap:8px;margin:6px 0}
.row-inline{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.legend{font-size:12px;color:var(--muted);margin-top:8px}
.actions{display:flex;gap:8px}
input, select{width:100%;padding:10px;border:1px solid var(--border);border-radius:10px;background:#fff;color:#111;box-shadow:inset 0 1px 3px rgba(34,197,94,0.08)}
input::placeholder{color:#999}
.btn{padding:10px 14px;border:1px solid #111;background:#111;color:#fff;border-radius:10px;cursor:pointer;box-shadow:0 2px 10px rgba(34,197,94,0.10);transition:all .2s ease}
.btn:hover{background:#22c55e}
.btn.ghost{border-color:var(--border);background:#fff;color:#111}
.btn.small{padding:6px 10px;font-size:12px}
.lineas-head{display:grid;grid-template-columns:2fr 1fr 0.7fr 1fr 0.7fr 1fr 1fr 1fr 1fr 0.3fr;gap:8px;font-weight:600;color:#222;margin:6px 0 4px}
.lineas{display:flex;flex-direction:column;gap:8px}
.linea{display:grid;gap:8px;align-items:center;grid-template-columns:2fr 1fr 0.7fr 1fr 0.7fr 1fr 1fr 1fr 1fr 0.3fr}
.linea .del{border:1px solid var(--border);background:#fff;border-radius:10px;padding:10px}
.suggest-box{position:relative}
.suggest-list{position:absolute;left:0;right:0;top:100%;background:#fff;border:1px solid var(--border);border-radius:10px;margin-top:4px;max-height:220px;overflow:auto;z-index:10;box-shadow:0 10px 24px rgba(34,197,94,0.12)}
.suggest-list button{width:100%;text-align:left;padding:10px;border:0;background:#fff;cursor:pointer}
.suggest-list button:hover{background:#f5f5f5}
.price-panel{position:fixed;right:16px;bottom:16px;width:360px;max-width:95vw;background:#fff;border:1px solid var(--border);border-radius:14px;overflow:hidden;box-shadow:0 18px 40px rgba(34,197,94,0.18)}
.pp-head{padding:10px 12px;font-weight:600;background:#f0fdf4;border-bottom:1px solid #e5e7eb}
.pp-body{padding:10px 12px;font-size:14px}
.pp-row{display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px dashed #eee}
.pp-row:last-child{border-bottom:0}
.list{display:flex;flex-direction:column;gap:8px}
.item{border:1px solid var(--border);border-radius:12px;padding:12px;background:#fff;display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;box-shadow:0 6px 18px rgba(34,197,94,0.08)}
.item .meta{font-size:12px;color:var(--muted)}
.badge{padding:3px 8px;border-radius:999px;font-size:12px;border:1px solid var(--border)}
.badge.ok{color:#fff;background:var(--ok);border-color:var(--ok)}
.badge.warn{color:#111;background:#ffe8c2;border-color:#f7c566}
.badge.bad{color:#fff;background:var(--bad);border-color:var(--bad)}
.table-head{display:grid;grid-template-columns:2fr 1fr 1fr 1fr 1fr 0.6fr;gap:8px;font-weight:600;color:#222;margin:6px 0 4px}
.product-row{display:grid;grid-template-columns:2fr 1fr 1fr 1fr 1fr 0.6fr;gap:8px;align-items:center;border:1px solid var(--border);border-radius:12px;padding:10px;background:#fff;box-shadow:0 6px 18px rgba(34,197,94,0.08)}
.chart{width:100%;border:1px solid var(--border);border-radius:12px;box-shadow:0 6px 18px rgba(34,197,94,0.08)}
.totals .divider{border-top:1px dashed var(--border);margin:8px 0}
.kv.total strong{font-size:20px}
.app-footer{border-top:1px solid var(--border);padding:12px 16px;color:var(--muted);text-align:center}
@media print{
  @page { size: A4; margin: 10mm; }
  body *{visibility:hidden}
  #printArea, #printArea *{visibility:visible}
  #printArea{position:absolute;left:0;top:0;width:100%;height:277mm;overflow:hidden}
  .print-table tbody{max-height:130mm;display:block;overflow:hidden}
  .print-table thead, .print-table tfoot{display:table;width:100%}
  .print-table tbody tr{display:table;width:100%;table-layout:fixed}
}
.print-doc{border:1px solid var(--border);border-radius:14px;padding:12px;background:#fff;margin-top:16px}
.print-header{display:flex;justify-content:space-between;gap:12px;align-items:center}
.print-brand{display:flex;gap:12px;align-items:center}
.print-meta{font-size:14px}
.print-columns{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin:8px 0}
.print-table{width:100%;border-collapse:collapse;font-size:12px}
.print-table th,.print-table td{border:1px solid var(--border);padding:6px;text-align:left}
.print-table tfoot td.right{text-align:right}
.print-table tfoot tr.total td{font-weight:700}
