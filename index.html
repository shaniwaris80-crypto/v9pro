<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ü•ù ARSLAN V9 PRO</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>
</head>
<body>

<div id="splash">
  <img src="logo-kiwi.png" id="logo" alt="logo kiwi">
  <h1>ARSLAN PRO</h1>
</div>

<header>
  <button class="tab active" data-tab="factura">Factura</button>
  <button class="tab" data-tab="clientes">Clientes</button>
  <button class="tab" data-tab="facturas">Facturas</button>
  <button class="tab" data-tab="productos">Productos</button>
  <button class="tab" data-tab="resumen">Resumen</button>
</header>

<!-- FACTURA -->
<section class="panel active" data-tab-panel="factura">
  <div class="row">
    <div class="col">
      <h2>Proveedor</h2>
      <input id="provNombre" placeholder="Nombre proveedor">
      <input id="provNif" placeholder="NIF">
      <input id="provDir" placeholder="Direcci√≥n">
      <input id="provTel" placeholder="Tel√©fono">
      <input id="provEmail" placeholder="Email">
    </div>
    <div class="col">
      <h2>Cliente</h2>
      <select id="selCliente"></select>
      <input id="cliNombre" placeholder="Nombre cliente">
      <input id="cliNif" placeholder="NIF">
      <input id="cliDir" placeholder="Direcci√≥n">
      <input id="cliTel" placeholder="Tel√©fono">
      <input id="cliEmail" placeholder="Email">
      <button id="btnNuevoCliente">Ver lista clientes</button>
    </div>
  </div>

  <h3>L√≠neas de factura</h3>
  <div id="lineas"></div>
  <div class="actions">
    <button id="btnAddLinea">+ A√±adir l√≠nea</button>
    <button id="btnVaciarLineas">Vaciar</button>
  </div>

  <div id="totales">
    <label><input type="checkbox" id="chkTransporte"> Transporte 10%</label>
    <label><input type="checkbox" id="chkIvaIncluido" checked> IVA incluido 4%</label>
    <div>Subtotal: <span id="subtotal">0 ‚Ç¨</span></div>
    <div>Transporte: <span id="transp">0 ‚Ç¨</span></div>
    <div>IVA (4%): <span id="iva">0 ‚Ç¨</span></div>
    <div>Total: <strong id="total">0 ‚Ç¨</strong></div>
    <label>Pagado: <input id="pagado" type="number" step="0.01"></label>
    <div>Pendiente: <strong id="pendiente">0 ‚Ç¨</strong></div>
  </div>

  <select id="estado">
    <option value="pendiente">Pendiente</option>
    <option value="parcial">Parcial</option>
    <option value="pagado">Pagado</option>
  </select>
  <select id="metodoPago">
    <option>Efectivo</option><option>Tarjeta</option><option>Transferencia</option>
  </select>
  <textarea id="observaciones" placeholder="Observaciones"></textarea>

  <div class="actions">
    <button id="btnGuardar">üíæ Guardar</button>
    <button id="btnImprimir">üñ®Ô∏è PDF / Imprimir</button>
    <button id="btnNueva">üßæ Nueva</button>
  </div>

  <div id="printArea" class="print">
    <h2>Factura</h2>
    <div class="row">
      <div><strong>N¬∞:</strong> <span id="p-num"></span></div>
      <div><strong>Fecha:</strong> <span id="p-fecha"></span></div>
    </div>
    <div class="row">
      <div id="p-prov"></div>
      <div id="p-cli"></div>
    </div>
    <table id="p-tabla">
      <thead><tr><th>Producto</th><th>Modo</th><th>Cant.</th><th>Neto</th><th>Precio</th><th>Origen</th><th>Importe</th></tr></thead>
      <tbody></tbody>
    </table>
    <div class="row">
      <div>
        <div>Subtotal: <span id="p-sub"></span></div>
        <div>Transporte: <span id="p-tra"></span></div>
        <div>IVA: <span id="p-iva"></span></div>
        <div><strong>Total:</strong> <span id="p-tot"></span></div>
      </div>
      <div>
        <div>Estado: <span id="p-estado"></span></div>
        <div>M√©todo: <span id="p-metodo"></span></div>
        <div>Obs.: <span id="p-obs"></span></div>
      </div>
    </div>
  </div>
</section>

<!-- CLIENTES -->
<section class="panel" data-tab-panel="clientes">
  <div class="actions">
    <input id="buscarCliente" placeholder="Buscar cliente‚Ä¶">
    <button id="btnAddCliente">+ A√±adir</button>
    <button id="btnExportClientes">‚§ì Exportar</button>
    <button id="btnImportClientes">‚§í Importar</button>
  </div>
  <div id="listaClientes"></div>
</section>

<!-- FACTURAS -->
<section class="panel" data-tab-panel="facturas">
  <div class="actions">
    <select id="filtroEstado">
      <option value="todas">Todas</option>
      <option value="pendiente">Pendientes</option>
      <option value="parcial">Parciales</option>
      <option value="pagado">Pagadas</option>
    </select>
    <input id="buscaCliente" placeholder="Buscar cliente‚Ä¶">
    <button id="btnExportFacturas">‚§ì Exportar</button>
    <button id="btnImportFacturas">‚§í Importar</button>
  </div>
  <div id="listaFacturas"></div>
</section>

<!-- PRODUCTOS -->
<section class="panel" data-tab-panel="productos">
  <div class="actions">
    <input id="buscarProducto" placeholder="Buscar producto‚Ä¶">
    <button id="btnAddProducto">+ A√±adir</button>
    <button id="btnExportProductos">‚§ì Exportar</button>
    <button id="btnImportProductos">‚§í Importar</button>
  </div>
  <div id="listaProductos"></div>
</section>

<!-- RESUMEN -->
<section class="panel" data-tab-panel="resumen">
  <h2>Resumen de ventas</h2>
  <div class="grid4">
    <div>Hoy: <span id="rHoy"></span></div>
    <div>Semana: <span id="rSemana"></span></div>
    <div>Mes: <span id="rMes"></span></div>
    <div>Total: <span id="rTotal"></span></div>
  </div>
  <h3>Deudas</h3>
  <div id="resPorCliente"></div>
  <div>Total pendiente global: <strong id="resGlobal"></strong></div>
  <button id="btnResetCliente">Reset cliente</button>
  <button id="btnResetGlobal">Reset global</button>
  <h3>Gr√°ficos</h3>
  <canvas id="chartDiario" height="120"></canvas>
  <canvas id="chartMensual" height="120"></canvas>
  <div class="actions">
    <button id="btnBackup">Backup</button>
    <button id="btnRestore">Restaurar</button>
  </div>
</section>

<!-- HISTORIAL DE PRECIOS -->
<div id="pricePanel" hidden>
  <div id="ppBody"></div>
</div>

<script src="app.js"></script>
</body>
</html>
